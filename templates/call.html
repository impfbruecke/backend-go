{{ template "header.html"  }}


{{range .AppMessages}}
<div class="app-messages-error"> {{.}} </div>
{{end}}


{{if .AppMessageSuccess }}
<div class="app-message-success"> {{.AppMessageSuccess}} </div>
{{end}}



<div class="card">



	<script charset="utf-8">

		function timeInFuture(hours) {
			var now = Date.now();
			return new Date(now + hours*60*60000);
		}
		$(document).ready(function(){

	$('input.timepicker-start').timepicker({
   timeFormat: 'HH:mm',
	interval: 30,
	minTime: '00:00',
	maxTime: '23:59',
	defaultTime: 'now',
	startTime: '10:00',
	dynamic: false,
	dropdown: true,
	scrollbar: false
	});


	$('input.timepicker-end').timepicker({
   timeFormat: 'HH:mm',
	interval: 30,
	minTime: '00:00',
	maxTime: '23:59',
	defaultTime: timeInFuture(4),
	startTime: '10:00',
	dynamic: false,
	dropdown: true,
	scrollbar: false
	});
}
);
	</script>


	<h1>Neuer Ruf</h1>

	<form action="/auth/call" class="pure-form" method="post">

		<label class="label-below" for="title">Titel</label>
		<input type="text" id="title" name="title" value="{{.DefaultTitle}}">
		<label class="label-below" for="capacity">Anzahl Impftermine</label>
		<input type="number" id="capacity" name="capacity" value="{{.DefaultCapacity}}"><br><br>



		<h3>Impfzeit</h3>
		<div class="row">

			<div class="column">
				<label  for="start-time">Anfang</label>
				<input id="start-time" name="start-time" type="text" class="timepicker-start" value="0"  />
			</div>


			<div class="column">
				<label  for="end-time">Ende</label>
				<input id="end-time" name="end-time" type="text" class="timepicker-end"  />
			</div>

		</div>

		<label for="location">Standort</label><br>
		<input type="text" id="location" name="location" value="{{.DefaultLocation}}"><br>
		<input type="submit" value="Ruf Starten">
	</form>

	{{ template "footer.html" .CurrentUser }}


